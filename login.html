<!DOCTYPE html>
<html lang="en">


<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color" content="#ab2923">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="csrf-token" content="844a727b4c21469e8e73538561852f997fb45233">
  <meta name="google-site-verification" content="c_LAXHEHxcNq1-aJO5h6KHVhmuVz7pgsfx9HbbN7BXg" />
    <meta name="description"
    content="Fastest and easiest way to convert your airtime to cash. Accept payments for your business and services today using airtime." />
  
    <meta name="keywords"
    content="Easiest way to convert airtime to cash in Nigeria, Make payment with airtime, Send and recieve payment in Nigeria with airtime, airtime is money, buy cheap data, MTN, Glo, 9mobile, Airtel, make payment for Gotv, Dstv" />
    <meta property="og:image" content="assets/images/new/favicon.png">
  <title>Login
</title>
  <link rel="stylesheet" href="assets/css/v2/styles2893.css?v=2.5.67"/>
  <link rel="stylesheet" href="assets/css/v2.5/fonts2893.css?v=2.5.67"/>
  <link rel="stylesheet" href="assets/css/v2/iziToast.min2893.css?v=2.5.67"/>
  <link rel="stylesheet" href="assets/css/v2/sweetalert2.min2893.css?v=2.5.67"/>
  <link rel="stylesheet" href="assets/fontawesome-free-6.1.2-web/css/all.min.css">
  <link rel="icon" href="assets/images/new/atg-favicon.png">
  <script src="assets/js/v2/alpine.persist.min.js" defer></script>
  <script src="assets/js/v2/alpine.intersect.min.js" defer></script>
  <script defer src="assets/js/v2/alpine.min.js"></script>
  <script src="assets/js/axios.min2893.js?v=2.5.67"></script>
  <script>const BASE_URL = 'index.html';</script>
  <script src="assets/js/v2/iziToast.min2893.js?v=2.5.67"></script>
  <script src="assets/js/v2/sweetalert2.all.min2893.js?v=2.5.67"></script>
  <script src="assets/js/v2/utils2893.js?v=2.5.67"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90432823-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-90432823-1');
  </script>

    </head>


<body class="font-body">
  <main class="bg-white">
  <div class="hidden p-5 lg:block lg:w-3/5 lg:fixed lg:inset-y-0 lg:right-0">
    <div class="w-full h-full overflow-hidden border-2 border-atg rounded-2xl">
      <div
        class="relative w-full h-full bg-cover bg-[url('/assets/images/v2/hand-bg.jpg')]">
        <div class="absolute inset-0 bg-black bg-opacity-40"></div>
      </div>
    </div>
  </div>
  <div class="py-10 overflow-y-scroll bg-white lg:pt-40 lg:w-2/5 lg:fixed lg:inset-y-0 lg:left-0">

    <div class="w-10/12 pt-10 mx-auto lg:w-8/12">
      <div class="flex justify-center pb-10 lg:pb-16">
        <a href="index.html">
          <img
            class="h-9"
            src="assets/images/v2/SONIC_BEATZ-removebg-preview.png"
            alt="Paylio">
        </a>
      </div>

      <div class="lg:border lg:rounded-xl lg:p-10">
        <h1 class="text-2xl text-center lg:text-left font-medim">
  Account Login
</h1>
<div class="font-light text-center text-gray-700 lg:text-left">
  Welcome back! Enter your details to login.
</div>

<form
  @submit.prevent="login"
  action="#"
  method="post"
  x-data="{
    username: '',
    password: '',
    remember: '',
    loading: false,
    login() {
      let { username, password, remember } = this
      let params = { username, password, remember }
      let uri = utils.get_endpoint('/login')

      this.loading = true
      $http.post(uri, params)
        .then(({data}) => {
          if(data.status === 'success') {
            return location.href = data.data.url
          }

          if(data.status === 'error') {
            return Notify.error('Login error', data.msg)
          }
        })
        .catch(err => {
          console.log(err)
        })
        .finally(() => {
          this.loading = false
        })
    }
  }">
  <div class="mt-10 space-y-5">
    <div>
      <label
        for="username_email"
        class="text-sm">
        Username or Email:
      </label>
      <input
        name="username"
        id="email" 
        x-model="username"
        type="text"
        class="w-full h-12 px-2 mt-2 bg-white border rounded outline-none focus:ring-1 ring-primary-100"
        placeholder="Your useraname or email"
        :disabled="loading"
        required>
    </div>
    <div
      x-init="() => {
        setTimeout(() => readonly = false, 600)
      }"
      x-data="{
        show: false,
        readonly: true
      }">
      <label
        for="password"
        class="text-sm">
        Password:
      </label>
      <div
        class="flex w-full h-12 mt-2 bg-white border rounded ring-primary-100 focus-within:ring-1">
        <input
          name="password"
          id="password" 
          x-model="password"
          :type="show ? 'text' : 'password'"
          class="w-full px-2 bg-white outline-none ring-primary-100"
          placeholder="Your password"
          :readonly="readonly"
          :disabled="loading"
          required>

        <a
          @click.prevent="show = !show"
          href="#"
          class="flex items-center px-3 text-gray-500 outline-none">
          <i
            class="fa"
            :class="show ? 'fa-eye-slash' : 'fa-eye'"></i>
        </a>
      </div>

      <div class="flex justify-end mt-2">
        <a
          href="account-recovery.html"
          class="text-sm text-atg">
          Forgot Password?
        </a>
      </div>
    </div>

    <div>
      <label
        class="flex space-x-1 cursor-pointer"
        for="remember_me">
        <input
          type="checkbox"
          name="remember"
          id="remember_me"
          x-model="remember">

        <span class="text-sm">Keep me logged in.</span>
      </label>
    </div>

    <div>
      <button type="submit" onclick="login()" 
        :disabled="loading"
        :class="loading ? 'opacity-60' : ''"
        class="w-full p-3 text-white duration-300 rounded hover:shadow bg-atg">
        <span :class="loading ? 'hidden': ''">Login</span>
        <span :class="loading ? '': 'hidden'">
          <i class="fa fa-circle-notch fa-spin"></i> Please wait...
        </span>
      </button>
    </div>

    <div class="text-sm text-center">
      Don't have an account yet?
      <a
        href="register.html"
        class="font-medium text-center text-atg hover:no-underline">
        Sign Up Now
      </a>
    </div>
  </div>
</form>
      </div>
    </div>
  </div>
</main>
</body>
  <script class="module">
// Your web app's Firebase configuration
var firebaseConfig = {
  apiKey: "AIzaSyC1kDtYIauw1KYF2OYK6zJBj_DtDxjuOWo",
  authDomain: "login-signup-authenticat-4fa75.firebaseapp.com",
  databaseURL: "https://login-signup-authenticat-4fa75-default-rtdb.firebaseio.com",
  projectId: "login-signup-authenticat-4fa75",
  storageBucket: "login-signup-authenticat-4fa75.appspot.com",
  messagingSenderId: "77434343036",
  appId: "1:77434343036:web:de2288d9664bae1c7483f9"
};
// Initialize Firebase
firebase.initializeApp(firebaseConfig);
// Initialize variables
const auth = firebase.auth()
const database = firebase.database()

// Set up our register function
function register () {
  // Get all our input fields
  email = document.getElementById('email').value
  password = document.getElementById('password').value

  // Validate input fields
  if (validate_email(email) == false || validate_password(password) == false) {
    alert('Email or Password is Outta Line!!')
    return
    // Don't continue running the code
  } 
    if (validate_field(full_name) == false || validate_field(favourite_song) == false || validate_field(milk_before_cereal) == false) {
    alert('One or More Extra Fields is Outta Line!!')
    return
  }
 
  // Move on with Auth
  auth.createUserWithEmailAndPassword(email, password)
  .then(function() {
    // Declare user variable
    var user = auth.currentUser

    // Add this user to Firebase Database
    var database_ref = database.ref()

    // Create User data
    var user_data = {
      email : email,
      full_name : full_name,
      favourite_song : favourite_song,
      milk_before_cereal : milk_before_cereal,
      last_login : Date.now()
    }

    // Push to Firebase Database
    database_ref.child('users/' + user.uid).set(user_data)

    // DOne
    alert('User Created!!')
  })
  .catch(function(error) {
    // Firebase will use this to alert of its errors
    var error_code = error.code
    var error_message = error.message
    
    alert(error_message)
  })
}

// Set up our login function
function login () {
  // Get all our input fields
  email = document.getElementById('email').value
  password = document.getElementById('password').value

  // Validate input fields
  if (validate_email(email) == false || validate_password(password) == false) {
    alert('Email or Password is Outta Line!!')
    return
    // Don't continue running the code
  }

  auth.signInWithEmailAndPassword(email, password)
  .then(function() {
    // Declare user variable
    var user = auth.currentUser

    // Add this user to Firebase Database
    var database_ref = database.ref()

    // Create User data
    var user_data = {
      last_login : Date.now()
    }

    // Push to Firebase Database
    database_ref.child('users/' + user.uid).update(user_data)

    // DOne
    alert('User Logged In!!')

  })
  .catch(function(error) {
    // Firebase will use this to alert of its errors
    var error_code = error.code
    var error_message = error.message

    alert(error_message)
  })
}
// Validate Functions
function validate_email(email) {
  expression = /^[^@]+@\w+(\.\w+)+\w$/
  if (expression.test(email) == true) {
    // Email is good
    return true
  } else {
    // Email is not good
    return false
  }
}

function validate_password(password) {
  // Firebase only accepts lengths greater than 6
  if (password < 6) {
    return false
  } else {
    return true
  }
}

function validate_field(field) {
  if (field == null) {
    return false
  }

  if (field.length <= 0) {
    return false
  } else {
    return true
  } 
} 
  </script>
</html>
